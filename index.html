<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App - Real-time Climate Data</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
          box-sizing: border-box;
          margin: 0;
          padding: 0;
        }

        body {
          font-family: 'Open Sans', sans-serif;
          color: #fff;
          margin: 0;
          display: flex;
          flex-direction: column;
          align-items: center;
          min-height: 100vh;
          justify-content: center;
          background: url('https://images.pexels.com/photos/209831/pexels-photo-209831.jpeg?cs=srgb&dl=pexels-pixabay-209831.jpg&fm=jpg') no-repeat center center fixed;
          background-size: cover;
          transition: background-image 1s ease-in-out;
        }

        .navbar {
          width: 100%;
          background: linear-gradient(90deg, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.8) 100%);
          padding: 1.2em 2em;
          display: flex;
          justify-content: space-between;  
          align-items: center;
          position: fixed;
          top: 0;
          left: 0;
          z-index: 10;
          box-shadow: 0 4px 20px rgba(0,0,0,0.5);
        }

        .nav-brand {
          color: #ffcc00;
          font-size: 2em;  
          font-weight: bold;
          text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .nav-menu {
          list-style: none;
          display: flex;
          align-items: center;
          margin-left: auto;
          gap: 0.5em;
        }

        .nav-item a {
          color: #fff;
          text-decoration: none;
          padding: 8px 16px;
          font-size: 1.1em;
          transition: all 0.3s;
          cursor: pointer;
          border-radius: 8px;
          font-weight: 600;
        }

        .nav-item a:hover {
          color: #ffcc00;
          background-color: rgba(255,204,0,0.1);
        }

        .logout-btn {
          background: linear-gradient(135deg, #ff0000 0%, #cc0000 100%);
          color: #fff;
          padding: 10px 20px;
          border-radius: 10px;
          text-decoration: none;
          font-size: 1em;
          margin-left: 1em;
          font-weight: 600;
          box-shadow: 0 4px 15px rgba(255,0,0,0.3);
          transition: all 0.3s;
        }

        .logout-btn:hover {
          transform: translateY(-2px);
          box-shadow: 0 6px 20px rgba(255,0,0,0.5);
        }

        .main-content {
          margin-top: 100px;
          width: 100%;
          display: flex;
          flex-direction: column;
          align-items: center;
          padding: 20px;
        }

        /* ========== ENHANCED SEARCH BOX ========== */
        .search {
          display: flex;
          justify-content: center;
          align-items: center;
          margin-bottom: 30px;
          width: 90%;
          max-width: 700px;
          background: linear-gradient(135deg, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.9) 100%);
          padding: 25px 30px;
          border-radius: 25px;
          box-shadow: 0 8px 32px rgba(0,0,0,0.6);
          backdrop-filter: blur(10px);
          border: 2px solid rgba(255,204,0,0.3);
          gap: 15px;
        }

        .search-bar {
          padding: 15px 20px;
          font-size: 1.1em;
          border-radius: 15px;
          border: 2px solid rgba(255,204,0,0.5);
          flex: 1;
          background: rgba(255,255,255,0.95);
          color: #333;
          font-weight: 600;
          transition: all 0.3s;
          outline: none;
        }

        .search-bar:focus {
          border-color: #ffcc00;
          box-shadow: 0 0 15px rgba(255,204,0,0.4);
          transform: translateY(-2px);
        }

        .search-bar::placeholder {
          color: #666;
          font-weight: 500;
        }

        button {
          padding: 15px 30px;
          background: linear-gradient(135deg, #ffcc00 0%, #ff6600 100%);
          color: #000;
          border: none;
          border-radius: 15px;
          font-size: 1.1em;
          cursor: pointer;
          transition: all 0.3s ease;
          font-weight: 700;
          box-shadow: 0 4px 15px rgba(255,204,0,0.4);
          white-space: nowrap;
        }

        button:hover {
          transform: translateY(-3px);
          box-shadow: 0 6px 25px rgba(255,204,0,0.6);
          background: linear-gradient(135deg, #ff6600 0%, #ffcc00 100%);
        }

        button:active {
          transform: translateY(-1px);
        }

        button:disabled {
          opacity: 0.7;
          cursor: not-allowed;
          transform: none;
        }

        .card {
          background: linear-gradient(135deg, rgba(0,0,0,0.85) 0%, rgba(0,0,0,0.75) 100%);
          color: #ffcc00;
          border-radius: 20px;
          padding: 35px;
          width: 90%;
          max-width: 900px;
          min-height: 500px;
          box-shadow: 0 10px 40px rgba(0,0,0,0.7);
          backdrop-filter: blur(15px);
          border: 3px solid rgba(255,204,0,0.4);
        }

        .section-content {
          display: none;
        }

        .section-content.active {
          display: block;
        }

        .section-description {
          font-size: 1em;
          margin-bottom: 20px;
          line-height: 1.6;
          text-align: left;
          color: #fff;
          font-weight: 500;
          max-width: 100%;
        }

        .weather-default {
          text-align: center;
          padding: 40px 20px;
        }

        .weather-default h2 {
          font-size: 2em;
          margin-bottom: 20px;
          color: #ffcc00;
          text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
          font-weight: 700;
        }

        .weather-default p {
          font-size: 1em;
          line-height: 1.6;
          color: #fff;
          font-weight: 500;
          max-width: 800px;
          margin: 0 auto;
        }

        .weather-data {
          display: none;
        }

        .weather-data.show {
          display: block;
        }

        .weather-header {
          text-align: center;
          margin-bottom: 30px;
        }

        .weather h2, .weather h1 {
          margin: 10px 0;
          font-size: 1.8em;
          text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .weather .temp {
          font-size: 3.5em;
          font-weight: bold;
          margin: 15px 0;
          text-shadow: 3px 3px 6px rgba(0,0,0,0.5);
        }

        .weather .flex {
          display: flex;
          align-items: center;
          justify-content: center;
          margin: 15px 0;
        }

        .weather .icon {
          width: 100px;
          height: 100px;
          filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.5));
        }

        .weather .description {
          text-transform: capitalize;
          font-size: 1.5em;
          margin-left: 15px;
          font-weight: 600;
        }

        .weather-details {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 20px;
          margin-top: 30px;
        }

        .detail-card {
          background: linear-gradient(135deg, rgba(255,204,0,0.15) 0%, rgba(255,204,0,0.08) 100%);
          border: 2px solid rgba(255,204,0,0.5);
          border-radius: 15px;
          padding: 20px;
          text-align: center;
          transition: all 0.3s;
        }

        .detail-card:hover {
          transform: translateY(-8px);
          background: linear-gradient(135deg, rgba(255,204,0,0.25) 0%, rgba(255,204,0,0.15) 100%);
          box-shadow: 0 8px 25px rgba(255,204,0,0.4);
        }

        .detail-card .icon-emoji {
          font-size: 2.5em;
          margin-bottom: 10px;
        }

        .detail-card .label {
          font-size: 0.9em;
          color: #fff;
          margin-bottom: 5px;
          text-transform: uppercase;
          letter-spacing: 1px;
          font-weight: 600;
        }

        .detail-card .value {
          font-size: 1.5em;
          font-weight: bold;
          color: #ffcc00;
          text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .settings-btn {
          padding: 15px 25px;
          font-size: 1.1em;
          background: linear-gradient(135deg, #ffcc00 0%, #ff6600 100%);
          color: black;
          border: none;
          border-radius: 12px;
          cursor: pointer;
          display: block;
          margin: 20px auto;
          font-weight: 700;
          box-shadow: 0 4px 15px rgba(255,204,0,0.3);
          transition: all 0.3s;
          width: 100%;
          max-width: 500px;
        }

        .settings-btn:hover {
          transform: translateY(-3px);
          box-shadow: 0 6px 20px rgba(255,204,0,0.5);
        }

        .forecast-container {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
          gap: 18px;
          margin-top: 25px;
        }

        .forecast-day {
          background: linear-gradient(135deg, rgba(255,204,0,0.15) 0%, rgba(255,204,0,0.08) 100%);
          border: 2px solid rgba(255,204,0,0.5);
          border-radius: 15px;
          padding: 20px;
          text-align: center;
          transition: all 0.3s;
        }

        .forecast-day:hover {
          transform: translateY(-8px);
          background: linear-gradient(135deg, rgba(255,204,0,0.25) 0%, rgba(255,204,0,0.15) 100%);
          box-shadow: 0 8px 25px rgba(255,204,0,0.4);
        }

        .forecast-day h4 {
          margin-bottom: 10px;
          color: #ffcc00;
          font-size: 1.2em;
          font-weight: 700;
        }

        .forecast-date {
          color: #fff;
          font-size: 0.9em;
          margin-bottom: 10px;
          opacity: 0.9;
        }

        .forecast-day .forecast-icon {
          width: 70px;
          height: 70px;
          margin: 10px 0;
          filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.5));
        }

        .forecast-desc {
          color: #fff;
          font-size: 0.95em;
          margin: 10px 0;
          font-weight: 600;
        }

        .forecast-temps {
          margin: 10px 0;
        }

        .forecast-day p {
          margin: 5px 0;
          font-size: 0.95em;
          color: #fff;
          font-weight: 600;
        }

        .forecast-day .temp-high {
          color: #ff6600;
          font-weight: bold;
          font-size: 1.1em;
        }

        .forecast-day .temp-low {
          color: #66ccff;
          font-weight: bold;
          font-size: 1.1em;
        }

        @media (max-width: 768px) {
          .nav-brand {
            font-size: 1.5em; 
          }

          .nav-item a {
            font-size: 0.95em;
            padding: 6px 10px;
          }

          .search {
            flex-direction: column;
            padding: 20px;
            gap: 12px;
          }

          .search-bar {
            width: 100%;
          }

          button {
            width: 100%;
            padding: 14px;
          }

          .card {
            padding: 25px;
            width: 95%;
            min-height: 400px;
          }

          .weather .temp {
            font-size: 2.8em;
          }

          .weather-details {
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
          }

          .forecast-container {
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
          }

          .section-description {
            font-size: 0.95em;
          }

          .weather-default p {
            font-size: 0.95em;
          }
        }
    </style>
</head>
<body>
    
   <nav class="navbar">
        <div class="nav-brand">üå§Ô∏è WEATHER APP</div>
        <ul class="nav-menu">
            <li class="nav-item"><a onclick="showSection('weather', event)">Weather</a></li>
            <li class="nav-item"><a onclick="showSection('forecast', event)">Forecast</a></li>
            <li class="nav-item"><a onclick="showSection('settings', event)">Settings</a></li>
            <li class="nav-item"><a onclick="showSection('about', event)">About</a></li>
            <li class="nav-item"><a href="{{ url_for('history') }}">History</a></li>
        </ul>
        <a href="{{ url_for('logout') }}" class="logout-btn">üö™ Logout</a>
    </nav>

    <div class="main-content">
        <!-- ========== ENHANCED SEARCH BOX ========== -->
        <div class="search">
            <input type="text" class="search-bar" id="city-input" placeholder="üåç Enter city name (e.g., London, Tokyo, New York)...">
            <button id="search-btn">üîç Search</button>
        </div>

        <div class="card">
            <!-- WEATHER SECTION -->
            <div class="weather section-content active">
                <div class="weather-default">
                    <h2>üå§Ô∏è Explore Current Climate Conditions</h2>
                    <p class="section-description">
                        Discover real-time weather patterns for any city worldwide. Track temperature variations, humidity levels that affect comfort and health, wind speeds influencing daily activities, and detailed descriptions of conditions like clear skies or stormy weather. Our app uses trusted APIs to provide accurate climate insights, helping you prepare for local environmental changes. Enter a city above to view live data and a dynamic background reflecting the location's atmosphere.
                    </p>
                </div>

                <div class="weather-data">
                    <div class="weather-header">
                        <h2 class="city">Weather in Your City</h2>
                        <h1 class="temp">--¬∞C</h1>
                        <div class="flex">
                            <img src="https://openweathermap.org/img/wn/04n.png" alt="Weather icon" class="icon" />
                            <div class="description">Search for a city</div>
                        </div>
                    </div>

                    <div class="weather-details">
                        <div class="detail-card">
                            <div class="icon-emoji">üå°Ô∏è</div>
                            <div class="label">Feels Like</div>
                            <div class="value" id="feels-like">--¬∞C</div>
                        </div>

                        <div class="detail-card">
                            <div class="icon-emoji">üíß</div>
                            <div class="label">Humidity</div>
                            <div class="value" id="humidity">--%</div>
                        </div>

                        <div class="detail-card">
                            <div class="icon-emoji">üí®</div>
                            <div class="label">Wind Speed</div>
                            <div class="value" id="wind">-- km/h</div>
                        </div>

                        <div class="detail-card">
                            <div class="icon-emoji">üîΩ</div>
                            <div class="label">Pressure</div>
                            <div class="value" id="pressure">-- hPa</div>
                        </div>

                        <div class="detail-card">
                            <div class="icon-emoji">üìÖ</div>
                            <div class="label">Date</div>
                            <div class="value" id="date" style="font-size: 1em;">--</div>
                        </div>

                        <div class="detail-card">
                            <div class="icon-emoji">‚è∞</div>
                            <div class="label">Time</div>
                            <div class="value" id="time" style="font-size: 1em;">--</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FORECAST SECTION -->
            <div class="forecast section-content">
                <div class="section-description">
                    <strong>5-Day Climate Forecast</strong><br><br>
                    Anticipate upcoming weather trends and climate shifts with our detailed 5-day forecast. Monitor temperature highs and lows to understand seasonal patterns, precipitation chances for rain preparedness, and wind forecasts to gauge potential storms or mild breezes. Ideal for planning outdoor activities, travel, or farming around evolving atmospheric conditions‚Äîstay ahead of Mother Nature's moods.
                </div>
                <div class="forecast-container" id="forecast-container">
                    <div class="forecast-day">
                        <h4>‚è≥ Loading...</h4>
                        <p>Search for a city to see forecast</p>
                    </div>
                </div>
            </div>
            
            <!-- SETTINGS SECTION -->
            <div class="settings section-content">
                <div class="section-description">
                    <strong>Personalize Your Climate Experience</strong><br><br>
                    Tailor the app to your region's weather standards and preferences. Customize how weather data is displayed, set your favorite locations, and control automatic features for a seamless experience.
                </div>

                <h3 style="color: #ffcc00; margin: 25px 0 15px 0; font-size: 1.4em;">üå°Ô∏è Units & Display</h3>
                <button class="settings-btn" onclick="toggleUnits()">üå°Ô∏è Toggle Temperature Units (¬∞C/¬∞F)</button>
                <button class="settings-btn" onclick="toggleTimeFormat()">‚è∞ Toggle Time Format (12h/24h)</button>

                <h3 style="color: #ffcc00; margin: 25px 0 15px 0; font-size: 1.4em;">üìç Location Settings</h3>
                <button class="settings-btn" onclick="saveDefaultCity()">üìç Set Default City</button>
                <button class="settings-btn" onclick="clearDefaultCity()">üóëÔ∏è Clear Default City</button>
                <button class="settings-btn" onclick="toggleAutoLoad()">üöÄ Toggle Auto-Load Default City</button>

                <h3 style="color: #ffcc00; margin: 25px 0 15px 0; font-size: 1.4em;">üé® Visual Preferences</h3>
                <button class="settings-btn" onclick="toggleDynamicBackground()">üñºÔ∏è Toggle Dynamic Backgrounds</button>

                <h3 style="color: #ffcc00; margin: 25px 0 15px 0; font-size: 1.4em;">‚öôÔ∏è Advanced</h3>
                <button class="settings-btn" onclick="setRefreshInterval()">‚è±Ô∏è Set Auto-Refresh Interval</button>
                <button class="settings-btn" onclick="resetAllSettings()" style="background: linear-gradient(135deg, #ff4444 0%, #cc0000 100%);">üîÑ Reset All Settings</button>

                <div id="settings-display"></div>
            </div>
            
            <!-- ABOUT SECTION -->
            <div class="about section-content">
                <div class="section-description">
                    <strong>About Our Climate-Focused Weather App</strong><br><br>
                    Dive into a world of accurate weather intelligence with our app, built to demystify global climate patterns and local conditions. We harness cutting-edge APIs for reliable, real-time data that empowers users to make informed decisions amid changing environments.<br><br>
                    
                    <strong>üåç Climate Data Sources:</strong><br>
                    ‚Ä¢ <strong>OpenWeatherMap API:</strong> Delivers precise current weather and climate metrics for 200,000+ cities, including temperature anomalies and atmospheric pressure<br>
                    ‚Ä¢ <strong>Unsplash API:</strong> Curates visually stunning, location-based images that capture the essence of a city's weather vibe‚Äîfrom sunny skylines to rainy streets<br><br>
                    
                    <strong>‚ú® Core Weather Features:</strong><br>
                    ‚Ä¢ Live climate updates: Temperature, feels like, humidity, pressure, wind speed<br>
                    ‚Ä¢ Real-time date and time display (updates every second)<br>
                    ‚Ä¢ 5-day weather forecast with detailed predictions<br>
                    ‚Ä¢ Dynamic, climate-matched backgrounds that evolve with your searches<br>
                    ‚Ä¢ Search history for revisiting climate data from favorite or frequently monitored locations<br>
                    ‚Ä¢ Mobile-responsive design for on-the-go weather tracking<br>
                    ‚Ä¢ Secure login to safeguard your personalized climate preferences<br><br>
                    
                    <strong>üõ†Ô∏è Tech for Climate Insights:</strong><br>
                    Powered by Flask (Python backend), JavaScript for interactive displays, HTML5/CSS3 for seamless visuals. We focus on accuracy to support climate awareness and daily weather needs.<br><br>
                    
                    <strong>üìß Get Involved:</strong><br>
                    Help us refine weather intelligence! Share feedback on climate features or API integrations at <strong>support@weatherapp.com</strong>.<br><br>
                    
                    <strong>Version:</strong> 2.0 | <strong>Last Updated:</strong> December 2025<br>
                    Crafted with passion for climate enthusiasts and everyday weather watchers üåç
                </div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
